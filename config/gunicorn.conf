import multiprocessing
import os

# Default configuration
bind = ":8001"
workers = multiprocessing.cpu_count() * 2 + 1

# Override/set any configuration variable with environment variables
# E.g GUNICORN_BIND -> bind
for k, v in os.environ.items():
    if k.startswith("GUNICORN_"):
        key = k.split("_", 1)[1].lower()
        locals()[key] = v
